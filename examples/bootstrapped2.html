<html>
<head>
	<meta charset="utf-8"/>
	<title>Potree Viewer</title>
	<!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">-->
	<link rel="stylesheet" type="text/css" href="css/potree.css">
	
	<link href="../libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	
	<style>
	
	.navbar-primary .navbar .nav > li > a:hover {background-color: #000000;}
	.navbar-primary .navbar .nav.pull-right {margin-left: 10px; margin-right: 0;}
	.navbar-xs .navbar-primary .navbar { min-height:34px; height: 34px; }
	.navbar-xs .navbar-primary .navbar .navbar-brand{ padding: 3px 12px;font-size: 16px;line-height: 28px; }
	.navbar-xs .navbar-primary .navbar .navbar-nav > li > a {  padding-top: 0px; padding-bottom: 0px; line-height: 34px; height: 34px;}
	.navbar-xs .navbar-primary .navbar .navbar-nav > li > a > img {  padding-top: 2px; padding-bottom: 2px;}
	.nav > li > a{ padding: 10px 6px; }
	
	.navbar-xs .navbar-primary .navbar .navbar-nav > li > div {  padding-top: 0px; padding-bottom: 0px; line-height: 34px; height: 34px;}
	.nav > li > div{ margin: 10px; padding: 10px 6px; }
	.dropdown-menu > li > div{ padding: 3px 20px }
	
	.radio label{
		width: 100%;
	}
	
	li.dropdown.open > ul{
		-webkit-touch-callout: none;
		-webkit-user-select: none;
		-khtml-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}
	
	li.dropdown.open > ul > li > label {
		width: 100%;
		padding: 3px 20px;
		font-weight: 100;
	}
	
	li.dropdown.open > ul > li > label:hover{
		background-color: #f5f5f5;
	}
	
	.horizontal-separator{
		position:	absolute !important;
		top: 4px;
		bottom: 4px;
		border: 1px solid gray;
	}	
	
	/*
	ul.nav li:hover > ul.dropdown-menu {
		display: block;   
	}
	*/
	
	
	/*!
 * Start Bootstrap - Simple Sidebar HTML Template (http://startbootstrap.com)
 * Code licensed under the Apache License v2.0.
 * For details, see http://www.apache.org/licenses/LICENSE-2.0.
 */


	</style>
	
	
</head>
<body>

	<script src="../libs/three.js/build/three.js"></script>
	<script src="../libs/other/stats.min.js"></script>
	<script src="../libs/other/dat.gui.min.js"></script>
	<script src="../libs/other/BinaryHeap.js"></script>
	<script src="../libs/tween/tween.min.js"></script>
	
	<script src="../build/js/potree.js"></script>
	<script src="./js/viewer.js"></script>
	<script src="./js/ProgressBar.js"></script>
	
	<!-- uncomment this to debug changes to the individual js files -->
	
	<script src="../src/PointCloudOctree.js"></script>
	<script src="../src/PointCloudOctreeGeometry.js"></script>
	<script src="../src/loader/POCLoader.js"></script>
	<script src="../src/loader/BinaryLoader.js"></script>
	<script src="../src/loader/LasLazLoader.js"></script>
	<script src="../src/materials/PointCloudMaterial.js"></script>
	<script src="../src/materials/EyeDomeLightingMaterial.js"></script>
	<script src="../src/EarthControls.js"></script>
	<script src="../src/OrbitControls.js"></script>
	<script src="../src/FirstPersonControls.js"></script>
	<script src="../src/GeoControls.js"></script>
	<script src="../src/utils/ProfileTool.js"></script>
	<script src="../src/utils/MeasuringTool.js"></script>
	<script src="../src/utils/TransformationTool.js"></script>
	<script src="../src/utils/VolumeTool.js"></script>
	<script src="../src/utils.js"></script>
	<script src="../src/LRU.js"></script>
	<script src="../src/Annotation.js"></script>
	<script src="../src/TextSprite.js"></script>
	<script src="../src/Features.js"></script>
	<script src="../src/extensions/PerspectiveCamera.js"></script>
	<script src="../src/arena4d/PointCloudArena4D.js"></script>
	<script src="../src/arena4d/PointCloudArena4DGeometry.js"></script>
	
	
	<!-- INCLUDE ADDITIONAL DEPENDENCIES HERE -->
	<!-- INCLUDE SETTINGS HERE -->
	<script src="../libs/plasio/js/laslaz.js"></script>
	<script src="../libs/plasio/vendor/bluebird.js"></script>
	<script src="../build/js/laslaz.js"></script>
	
	
	
	
	
	<div class="navbar-xs" id="navbar">
	<div class="navbar-primary">
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-header">
		  <!--
		  <a class="navbar-brand" href="http://potree.org" target="_blank" title="Potree">
			  Potree.org<!--<img id="main-logo" src="../resources/icons/distance.png" alt="Potree" />-->
		  </a>
		  -->
		 
		  
		  
		   <ul class="nav navbar-nav">
		  <li></li>  
		   
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Appearance 
			  </a>
              <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dLabel"> 
				<li tabIndex="-1"><a href="#" class="small" data-value="option3" tabIndex="-1">
					Point Size: <span id="lblPointSize"></span> 
					<div id="sldPointSize"></div>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Field of View: <span id="lblFOV"></span>
					<div id="sldFOV"></div>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Opacity: <span id="lblOpacity"></span>
					<div id="sldOpacity"></div>
				</a></li>
				
				<li><label class="menu-item"><input type="checkbox" onClick="toggleSkybox(this)"/>&nbsp;Skybox</label></li>
				
				
				
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Point Sizing</li>
				
				<li><label><input type="radio" id="optPointSizing_Fixed" name="optPointSizing" onClick="viewer.setPointSizing(this.value);" value="Fixed" /> Fixed</label></li>
				<li><label><input type="radio" id="optPointSizing_Attenuated" name="optPointSizing" onClick="viewer.setPointSizing(this.value);" value="Attenuated" /> Attenuated</label></li>
				<li><label><input type="radio" id="optPointSizing_Adaptive" name="optPointSizing" onClick="viewer.setPointSizing(this.value);" value="Adaptive" /> Adaptive</label></li>
				
				
				
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Quality</li>
				
				<li><label><input type="radio" id="optQuality_Squares" name="optQuality" onClick="viewer.setQuality(this.value);" value="Squares" /> Squares</label></li>
				<li><label><input type="radio" id="optQuality_Circles" name="optQuality" onClick="viewer.setQuality(this.value);" value="Circles" /> Circles</label></li>
				<li><label><input type="radio" id="optQuality_Interpolation" name="optQuality" onClick="viewer.setQuality(this.value);" value="Interpolation" /> Interpolation</label></li>
				<li><label><input type="radio" id="optQuality_Splats" name="optQuality" onClick="viewer.setQuality(this.value);" value="Splats" /> HQ-Splats</label></li>
				
				
				
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Eye-Dome-Lighting</li>
				
				<li><label><input type="checkbox" id="chkEDLEnabled" onClick="viewer.setEDLEnabled(this.checked)"/>&nbsp;enable</label></li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					radius <span id="lblEDLRadius"></span>
					<div id="sldEDLRadius"></div>
				</a></li>	
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					strength <span id="lblEDLStrength"></span>
					<div id="sldEDLStrength"></div>
				</a></li>
				
              </ul>
            </li>
			
			
			
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Materials 
			  </a>
              <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dLabel"> 
				<li id="materialList">
					<!-- filled on load -->
				</li>
              </ul>
            </li>
			
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Classifications 
			  </a>
              <ul  id="classificationList" class="dropdown-menu" role="menu" aria-labelledby="dLabel"> 
				<li id="classificationList">
					<!-- filled on load -->
				</li>
              </ul>
            </li>
			
			
			
			
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Navigation 
			  </a>
              <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dLabel"> 
				
                <li class="dropdown-header">Navigation Mode</li>
				
				<li><label><input type="radio" name="optNavigation" onClick="toggleNavigation(this);" value="Squares" /> Orbit</label></li>
				<li><label><input type="radio" name="optNavigation" onClick="toggleNavigation(this);" value="Circles" /> Free-Flight</label></li>
				<li><label><input type="radio" name="optNavigation" onClick="toggleNavigation(this);" value="Interpolation" /> Earth</label></li>
				
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Views</li>
				
				<li><a href="#">Fit-To-Screen</a></li>
				<li><a href="#">Front</a></li>
				<li><a href="#">Top</a></li>
				<li><a href="#">Right</a></li>
				<li><a href="#">Left</a></li>
				
				<li role="separator" class="divider"></li>
				<li><a href="#">Swap YZ coordinates</a></li>
				
              </ul>
            </li>
			
			
		   
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Settings 
			  </a>
              <ul class="dropdown-menu" >
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Min Node Size<div id="minNodeSize"></div>
				</a></li>
				
				<li role="separator" class="divider"></li>
				<li class="dropdown-header">Clip Mode</li>
				
				<li><label><input type="radio" id="optClipMode_NoClipping" 		name="optClipMode" onClick="viewer.setClipMode(Potree.ClipMode.DISABLED);"  /> No Clipping</label></li>
				<li><label><input type="radio" id="optClipMode_ClipOutside" 	name="optClipMode" onClick="viewer.setClipMode(Potree.ClipMode.CLIP_OUTSIDE);"  /> Clip Outside</label></li>
				<li><label><input type="radio" id="optClipMode_HighlightInside" name="optClipMode" onClick="viewer.setClipMode(Potree.ClipMode.HIGHLIGHT_INSIDE);"  /> Highlight Inside</label></li>
				
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Debug</li>
				<li><label><input type="checkbox" id="chkShowStats" onClick="viewer.setShowStats(this.checked)"/>&nbsp;Stats</label></li>
				<li><label><input type="checkbox" id="chkShowDebugInfos" onClick="viewer.setShowDebugInfos(this.checked)"/>&nbsp;Debug Infos</label></li>
				<li><label><input type="checkbox" id="chkShowBoundingBox" onClick="viewer.setShowBoundingBox(this.checked)"/>&nbsp;Bounding Box</label></li>
				<li><label><input type="checkbox" id="chkFreeze" onClick="viewer.setFreeze(this.checked)"/>&nbsp;Freeze</label></li>
              </ul>
            </li>
			
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Help 
			  </a>
              <ul class="dropdown-menu">
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">Documentation</a></li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">About</a></li>
              </ul>
            </li>
			
			<!--
			<li>
			<div class="btn-group">
			  <button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				Point Budget <span class="caret"></span>
			  </button>
			  <ul class="dropdown-menu">
				<li><a href="#">0.5</a></li>
				<li><a href="#">1  </a></li>
				<li><a href="#">2  </a></li>
				<li><a href="#">3  </a></li>
				<li><a href="#">4  </a></li>
				<li><a href="#">5  </a></li>
				<li><a href="#">10 </a></li>
			  </ul>
			</div>
			</li>
			-->
			
			
          </ul>
		</div>
		
		
		 <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav" id="toolbar">
          </ul>
        </div>
	
	  
	  
    </nav>
	</div>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	<div id="wrapper" style="position: absolute">
	
		<a href="#menu-toggle" class="btn btn-default" id="menu-toggle" style="
		width: 200px; float:left
		">
		Toggle Menu</a>

        <!-- Sidebar -->
        <div id="sidebar-wrapper" style="
		width: 200px; 
		height: 100%;
		z-index: 1000; 
		background-color: #aaaaaa;
		overflow: hidden
		">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="#">
                        Start Bootstrap
                    </a>
                </li>
                <li>
                    <a href="#">Dashboard</a>
                </li>
                <li>
                    <a href="#">Shortcuts</a>
                </li>
                <li>
                    <a href="#">Overview</a>
                </li>
                <li>
                    <a href="#">Events</a>
                </li>
                <li>
                    <a href="#">About</a>
                </li>
                <li>
                    <a href="#">Services</a>
                </li>
                <li>
                    <a href="#">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /#sidebar-wrapper -->
		
		

    </div>
	
	
	<div id="renderArea" style="width: 100%; height: 100%; overflow: hidden;">
		<div id="overlays" style="position: absolute; left: 10px; top: 45px;">
		</div>
	
		<!-- HEADING -->
		<div class="info" style="position: absolute; left: 300px; right: 300px; top: 10px; text-align: center;">
		</div>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<!-- Bootstrap core JavaScript-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="../libs/bootstrap/js/bootstrap.min.js"></script>
		
	<script>
	
		var onPointCloudLoaded = function(event){
			// do stuff here that should be executed once a point cloud has been loaded.
			// event.pointcloud returns the point cloud object
			console.log("a point cloud has been loaded");
			
			// set up things when the first point cloud has been loaded
			if(viewer.pointclouds.length === 1){
				//viewer.flipYZ();
				viewer.useOrbitControls();
				//viewer.useEarthControls();
				viewer.zoomTo(event.pointcloud, 1);
			
				//viewer.camera.position.set(814, 100, 155);
				//viewer.camera.lookAt(new THREE.Vector3(768, 59, 110))
				//viewer.orbitControls.target = new THREE.Vector3(768, 59, 110);
			}
		};
	
		viewer = new Potree.Viewer(document.getElementById("renderArea"), {
			"onPointCloudLoaded": onPointCloudLoaded
		});
		
		viewer.setEDLEnabled(false);
		viewer.setPointSize(3);
		viewer.setMaterial("RGB");
		viewer.setFOV(60);
		viewer.setPointSizing("Fixed");
		viewer.setQuality("Squares");
		viewer.setPointBudget(1*1000*1000);
		viewer.setShowNavbar(false);
		viewer.setShowToolbar(false);
		
		//viewer.addPointCloud("http://localhost/temp/layers/1/cloud.js", function(pointcloud){
		//	console.log("point cloud 1 loaded");
		//});
		//viewer.addPointCloud("http://localhost/temp/layers/2/cloud.js", function(pointcloud){
		//	console.log("point cloud 2 loaded");
		//});
		
		viewer.addPointCloud("http://5.9.65.151/mschuetz/potree/resources/pointclouds/archpro/heidentor/cloud.js");
		
		
	</script>
	



	<script>
	
	{
		// http://stackoverflow.com/questions/25089297/twitter-bootstrap-avoid-dropdown-menu-close-on-click-inside/25196101#25196101
		// manually define dropdown behaviour
		// this does not close dropdown menus through clicks on a menu item
		$('li.dropdown a').on('click', function (event) {
			$(this).parent().toggleClass('open');
		});

		$('body').on('click', function (e) {
			if (!$('li.dropdown').is(e.target) 
				&& $('li.dropdown').has(e.target).length === 0 
				&& $('.open').has(e.target).length === 0
			) {
				$('li.dropdown').removeClass('open');
			}
		});
	}
	
	
	$( "#menu-toggle" ).click(function(e) {
		e.preventDefault();
		$( "#sidebar-wrapper" ).toggle( "slide" );
	});
	
	$("#sidebar-wrapper").resizable({
		alsoResize: "#menu-toggle"
	});
	
	</script>
	
</body>
</html>













