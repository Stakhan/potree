<html>
<head>
	<meta charset="utf-8"/>
	<title>Potree Viewer</title>
	<!--<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">-->
	<link rel="stylesheet" type="text/css" href="css/potree.css">
	
	<link href="../libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
	
	<style>
	
	.navbar-primary .navbar .nav > li > a:hover {background-color: #000000;}
	.navbar-primary .navbar .nav.pull-right {margin-left: 10px; margin-right: 0;}
	.navbar-xs .navbar-primary .navbar { min-height:34px; height: 34px; }
	.navbar-xs .navbar-primary .navbar .navbar-brand{ padding: 3px 12px;font-size: 16px;line-height: 28px; }
	.navbar-xs .navbar-primary .navbar .navbar-nav > li > a {  padding-top: 0px; padding-bottom: 0px; line-height: 34px; height: 34px;}
	.navbar-xs .navbar-primary .navbar .navbar-nav > li > a > img {  padding-top: 2px; padding-bottom: 2px;}
	.nav > li > a{ padding: 10px 6px; }
	
	.navbar-xs .navbar-primary .navbar .navbar-nav > li > div {  padding-top: 0px; padding-bottom: 0px; line-height: 34px; height: 34px;}
	.nav > li > div{ margin: 10px; padding: 10px 6px; }
	.dropdown-menu > li > div{ padding: 3px 20px }
	
	.radio label{
		width: 100%;
	}
	
	/*
	ul.nav li:hover > ul.dropdown-menu {
		display: block;   
	}
	*/

	</style>
	
	
</head>
<body>

	<script src="../libs/three.js/build/three.js"></script>
	<script src="../libs/other/stats.min.js"></script>
	<script src="../libs/other/dat.gui.min.js"></script>
	<script src="../libs/other/BinaryHeap.js"></script>
	<script src="../libs/tween/tween.min.js"></script>
	
	<script src="../build/js/potree.js"></script>
	<script src="./js/viewer.js"></script>
	<script src="./js/ProgressBar.js"></script>
	
	<!-- uncomment this to debug changes to the individual js files -->
	
	<script src="../src/PointCloudOctree.js"></script>
	<script src="../src/PointCloudOctreeGeometry.js"></script>
	<script src="../src/loader/POCLoader.js"></script>
	<script src="../src/loader/BinaryLoader.js"></script>
	<script src="../src/loader/LasLazLoader.js"></script>
	<script src="../src/materials/PointCloudMaterial.js"></script>
	<script src="../src/materials/EyeDomeLightingMaterial.js"></script>
	<script src="../src/EarthControls.js"></script>
	<script src="../src/OrbitControls.js"></script>
	<script src="../src/FirstPersonControls.js"></script>
	<script src="../src/GeoControls.js"></script>
	<script src="../src/utils/ProfileTool.js"></script>
	<script src="../src/utils/MeasuringTool.js"></script>
	<script src="../src/utils/TransformationTool.js"></script>
	<script src="../src/utils/VolumeTool.js"></script>
	<script src="../src/utils.js"></script>
	<script src="../src/LRU.js"></script>
	<script src="../src/Annotation.js"></script>
	<script src="../src/TextSprite.js"></script>
	<script src="../src/Features.js"></script>
	<script src="../src/extensions/PerspectiveCamera.js"></script>
	<script src="../src/arena4d/PointCloudArena4D.js"></script>
	<script src="../src/arena4d/PointCloudArena4DGeometry.js"></script>
	
	
	<!-- INCLUDE ADDITIONAL DEPENDENCIES HERE -->
	<!-- INCLUDE SETTINGS HERE -->
	<script src="../libs/plasio/js/laslaz.js"></script>
	<script src="../libs/plasio/vendor/bluebird.js"></script>
	<script src="../build/js/laslaz.js"></script>
	
	
	
	
	
	<div class="navbar-xs">
	<div class="navbar-primary">
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-header">
		  <a class="navbar-brand" href="http://potree.org" target="_blank" title="Potree">
			  Potree<!--<img id="main-logo" src="../resources/icons/distance.png" alt="Potree" />-->
		  </a>
		   <ul class="nav navbar-nav">
		   
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Appearance <b class="caret"></b>
			  </a>
              <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dLabel"> 
				<li tabIndex="-1"><a href="#" class="small" data-value="option3" tabIndex="-1">
					Point Size <div id="sldPointSize"></div>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Field of View <div id="sldFOV"></div>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Opacity <div id="sldOpacity"></div>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Point Sizing <select>
					  <option value="volvo">Fixed</option>
					  <option value="saab">Attenuated</option>
					  <option value="mercedes">Adaptive</option>
					</select>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Point Sizing  asd <select>
					  <option value="volvo">Fixed</option>
					  <option value="saab">Attenuated</option>
					  <option value="mercedes">Adaptive</option>
					</select>
				</a></li>
				
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Eye-Dome-Lighting</li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					<input type="checkbox" onClick="toggleEDL(this)"/>&nbsp;enable</a>
				</li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					radius <div id="sldEDLRadius"></div>
				</a></li>
				
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					strength <div id="sldEDLStrength"></div>
				</a></li>
				
              </ul>
            </li>
			
			
			
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Materials <b class="caret"></b>
			  </a>
              <ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dLabel"> 
				<li id="materialList">
					
				</li>
				
              </ul>
            </li>
			
			
			
		   
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Settings <b class="caret"></b>
			  </a>
              <ul class="dropdown-menu" >
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">
					Min Node Size<div id="minNodeSize"></div>
				</a></li>
				<li role="separator" class="divider"></li>
                <li class="dropdown-header">Debug</li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1"><input type="checkbox" onClick="toggleStats(this)"/>&nbsp;Stats</a></li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1"><input type="checkbox" onClick="toggleDebugInfos(this)"/>&nbsp;Debug Infos</a></li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1"><input type="checkbox" onClick="toggleBoundingBox(this)"/>&nbsp;Bounding Box</a></li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1"><input type="checkbox" onClick="toggleFreeze(this)"/>&nbsp;Freeze</a></li>
              </ul>
            </li>
			
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" role="button" aria-haspopup="true" aria-expanded="false">
				Help <b class="caret"></b>
			  </a>
              <ul class="dropdown-menu">
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">Documentation</a></li>
				<li><a href="#" class="small" data-value="option3" tabIndex="-1">About</a></li>
              </ul>
            </li>
			
			
          </ul>
		</div>
		
		 <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav" id="toolbar">
          </ul>
        </div>
	
	  
	  
    </nav>
	</div>
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div id="renderArea" style="position: absolute; width: 100%; height: 100%; overflow: hidden;">

		<!-- HEADING -->
		<div class="info" style="position: absolute; left: 300px; right: 300px; top: 10px; text-align: center;">
		</div>
		
	</div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<!-- Bootstrap core JavaScript-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="../libs/bootstrap/js/bootstrap.min.js"></script>
		
	<script>
	
		function toggleEDL(element){
			viewer.useEDL = element.checked;
		}
	
		function toggleStats(element){
			viewer.showStats = element.checked;
		}
		
		function toggleBoundingBox(element){
			viewer.showBoundingBox = element.checked;
		}
		
		function toggleDebugInfos(element){
			viewer.showDebugInfos = element.checked;
			viewer.infos.domElement.style.display = viewer.showDebugInfos ? "block" : "none";
		}
		
		function toggleFreeze(element){
			viewer.freeze = element.checked;
		}
	
		var onPointCloudLoaded = function(event){
			// do stuff here that should be executed once a point cloud has been loaded.
			// event.pointcloud returns the point cloud object
			console.log("a point cloud has been loaded");
			
			// set up things when the first point cloud has been loaded
			if(viewer.pointclouds.length === 1){
				viewer.flipYZ();
				viewer.useOrbitControls();
				//viewer.useEarthControls();
				viewer.zoomTo(event.pointcloud, 1);
			
				viewer.camera.position.set(814, 100, 155);
				viewer.camera.lookAt(new THREE.Vector3(768, 59, 110))
				viewer.orbitControls.target = new THREE.Vector3(768, 59, 110);
			}
		};
	
		viewer = new Potree.Viewer(document.getElementById("renderArea"), {
			"onPointCloudLoaded": onPointCloudLoaded
		});
		viewer.useEDL = false;
		viewer.pointSize = 3;
		viewer.pointLimit = 1;
		viewer.setMaterial("RGB");
		viewer.fov = 60;
		viewer.setPointSizeType("Fixed");
		viewer.setQuality("Squares");
		
		
		viewer.addPointCloud("http://localhost/temp/layers/1/cloud.js", function(pointcloud){
			console.log("point cloud 1 loaded");
		});
		viewer.addPointCloud("http://localhost/temp/layers/2/cloud.js", function(pointcloud){
			console.log("point cloud 2 loaded");
		});
		
		
	</script>
	
	


	<script>
	
	{
		// http://stackoverflow.com/questions/25089297/twitter-bootstrap-avoid-dropdown-menu-close-on-click-inside/25196101#25196101
		// manually define dropdown behaviour
		// this does not close dropdown menus through clicks on a menu item
		$('li.dropdown a').on('click', function (event) {
			$(this).parent().toggleClass('open');
		});

		$('body').on('click', function (e) {
			if (!$('li.dropdown').is(e.target) 
				&& $('li.dropdown').has(e.target).length === 0 
				&& $('.open').has(e.target).length === 0
			) {
				$('li.dropdown').removeClass('open');
			}
		});
	}
	
	$( "#minNodeSize" ).slider({
		value: 100,
		min: 0,
		max: 1500,
		step: 1,
		slide: function( event, ui ) {
			viewer.minNodeSize = ui.value;
		}
    });
	
	$( "#sldPointSize" ).slider({
		value: 1,
		min: 0,
		max: 3,
		step: 0.01,
		slide: function( event, ui ) {viewer.pointSize = ui.value;}
    });
	
	$( "#sldFOV" ).slider({
		value: 60,
		min: 20,
		max: 100,
		step: 0.01,
		slide: function( event, ui ) {viewer.fov = ui.value;}
    });
	
	$( "#sldOpacity" ).slider({
		value: 1,
		min: 0,
		max: 1,
		step: 0.01,
		slide: function( event, ui ) {viewer.opacity = ui.value;}
    });
	
	$( "#sldEDLRadius" ).slider({
		value: 3,
		min: 1,
		max: 5,
		step: 0.01,
		slide: function( event, ui ) {viewer.edlRadius = ui.value;}
    });
	
	$( "#sldEDLStrength" ).slider({
		value: 1,
		min: 0,
		max: 3,
		step: 0.01,
		slide: function( event, ui ) {viewer.edlScale = ui.value;}
    });
	
	</script>
	
</body>
</html>













